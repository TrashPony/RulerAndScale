# RulerAndScale
Модуль для весов на базе терминала TBS-A для измерения габаритов коробки, состоит из 4х датчиков HC-SR04 подключеных в 1 пин
по этому [способу](http://www.instructables.com/id/Hack-an-HC-SR04-to-a-3-pin-sensor/)

констранты которые необходимо указать:

Arduino:
1) WIDTH_MAX - растояние между боковыми датчиками для измерения ширины коробки
2) LENGTH_MAX - растояние от заднего датчика до стенки куда прикладывать коробку
3) TOP_MAX - растояние между верхним датчиком и весами

4) LEFT_PING_PIN, TOP_PING_PIN, BACK_PING_PIN, RIGHT_PING_PIN - пины в которые подключать дальномеры

5) BUTTON - пин кнопки которая меняет режим работы только вес/обьемный вес
6) RED_LED_PIN - пин диода который говорит что линейка в режиме обьемный вес, и что калибровка успешна
7) GREEN_LED_PIN - пин диода который говорит что линейка в режиме только вес, и что калибровка успешна

Go: 
1) в файле SelectPort переменная portClass указывает какие типы портов сканировать 
по умолчанию "/dev/ttyS", "/dev/ttyACM", "/dev/ttyUSB", от 0 до 9го порта
![Image alt](https://github.com/TrashPony/RulerAndScale/raw/master/image.png)

Примечание что бы убрать паразитирующие сигналы которые оторажаються от весов или рамы надо 
делать целиковую платформы с гладкой поверхностью

Для работы клипборда необходимо установить пакет xsel или xclip. (Debian 9 xclip)
для работы эмуляции клавиатуры надо дать разрешение uinput  "chmod +0666 /dev/uinput"

При ошибке "exec: "gcc": executable file not found in $PATH" необходимо установить пакет gcc
